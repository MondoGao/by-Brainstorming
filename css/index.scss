body, section, header, div, span, ul, li, p, img, figure, h3, a {
    margin: 0;
    border: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    font-size: 37.5px;
    height: 100%;
    width: 100%;
    // overflow: hidden;
}

body {
    height: 100%;
    background-color: #A4CCF0;
}

ul {
    list-style: none;
    font-size: 0;
    li {
        display: inline-block;
        font-size: 1rem;
    }
}

section {
    position: relative;
    width: 100%;
    height: 100%;
    text-align: center;
    font-size: 0;
    padding-top: 1rem;
}

h3 {
    font-weight: normal;
    font-size: 26px;
}

p {
    margin-top: 0.27rem;
    font-size: 14px;
}

a {
    text-decoration: none;
}

.btn {
    // 此处字体大小会影响上边距，原因未知，与inline元素展现有关
    display: block;
    color: #fff;
    &.btn-large {
        margin: 0 auto;
        margin-top: 0.5rem;
        width: 8.03rem;
        height: 1.39rem;
        line-height: 1.39rem;
        font-size: 26px;
        background: #5189BA;
        box-shadow: 0.05rem 0.11rem 0 #3D6086;
        border-radius: 0.45rem;
    }
    &.btn-small {
        display: inline-block;
        width: 3.28rem;
        height: 1.15rem;
        line-height: 1.15rem;
        font-size: 18px;
        background: #84A3C2;
        border-radius: 0.427rem; /* 16/37.5 */
    }
}

#btn-discuss, #btn-again {
    font-size: 18px;
}

.card-container {
    position: relative;
    width: 100%;
    overflow: hidden;
    padding: .5rem 0;
    &::before, &::after {
        position: absolute;
        content: "";
        top: 50%;
        margin-top: -0.533rem; /* -20/37.5 */
        width: 0; /* 40/37.5 */
        height: 0;
        border: 0.533rem solid; /* 20/37.5 */
    }
    &::before {
        left: -0.293rem; /* -11/37.5 */
        border-color: transparent #fff transparent transparent;
    }
    &::after {
        right: -0.293rem; /* -11/37.5 */
        border-color: transparent transparent transparent #fff;
    }
    &.card-front {
        &::before {
            left: 0; /* -11/37.5 */
        }
        &::after {
            right: 0; /* -11/37.5 */
        }
    }
}

.card-wrap {
    margin: 0 auto;
    width: 5.92rem;
    height: 7.73rem;
    transform-style: preserve-3d;
    perspective: 10rem;
}

$card-name: (thing, time, place, people, event);
$card-color: (
    time: (
        bg: #D4E9FE,
        circle1: #719DCA,
        circle2: #5581AE
    ),
    thing:(
        bg: #FAEAB6,
        circle1: #F4D578,
        circle2: #E5C04E
    ),
    place: (
        bg: #F0C2DE,
        circle1: #D799BE,
        circle2: #C97AAA
    ),
    people: (
        bg: #DECEEB,
        circle1: #BDA1D4,
        circle2: #9876B3
    ),
    event: (
        bg: #C3EEE7,
        circle1: #98E1D6,
        circle2: #40C1AD
    )
);

@mixin card-color($name, $flat:1) {
    .card-#{$name} {
        box-shadow: 0 0.027rem 0.133rem 0rem map-get(map-get($card-color, $name),circle2), 0 0.053rem 0.053rem 0rem map-get(map-get($card-color, $name),circle2); /* 1/37.5, 5/37.5, 0/37.5, 2/37.5, 2/37.5, 0/37.5 */
        @if $flat == 1 {
            background: map-get(map-get($card-color, $name),bg) url(../img/card/#{$name}.jpg);
            &::before {
                border: 1.34rem solid map-get(map-get($card-color, $name),circle1);
            }
            &::after {
                border: 0.67rem solid map-get(map-get($card-color, $name),circle2);
            }
        }

    }
}

.card {
    background-color: #fff;
    width: 5.92rem;
    height: 7.73rem;
    border-radius: 0.37rem;
}

.card-back {
    .card {
        position: absolute;
        font-size: 44px;
        overflow: hidden;
        &::before, &::after {
            position: absolute;
            content: "";
            width: 0;
            height: 0;
            border-radius: 50%;
            transform: scaleY(1.1);
        }
        &::before {
            left: 0.34rem;
            bottom: -2.62rem;
            padding: 1.28rem;
        }
        &::after {
            left: 1.01rem;
            bottom: -1.95rem;
            padding: 1.28rem;
        }
        header {
            margin: 1rem auto 1.44rem; /* 54/37.5 */
            width: 1em;
            line-height: 1.05;
        }
        figure {
            font-size: 0;

            &::after{
                content: "";
                display: block;
                margin: 0.08rem auto 0;
                height: 0.187rem; /* 7/37.5 */
                width: 1.333rem; /* 50/37.5 */
                background: rgba(0,0,0,.6);
                border-radius: 50%;
            }
        }
        img {
            position: relative;
            z-index: 1;
        }
        &.card-0{
            transform: translateX(-2.9rem) translateZ(-4.2rem);
        }
        &.card-1 {
            transform: translateX(-1.4rem) translateZ(-2.1rem);
        }
        &.card-2 {
            transform: translateX(0) translateZ(0);
        }
        &.card-3 {
            transform: translateX(1.4rem) translateZ(-2.1rem);
        }
        &.card-4 {
            transform: translateX(2.9rem) translateZ(-4.2rem);
        }
    }
    @for $i from 1 through length($card-name) {
        @include card-color(nth($card-name,$i));
    }
}

.card-front {
    margin-bottom: 1rem;
    .card {
        margin: 0 auto;
        img {
            margin: 0.747rem 0 0.16rem; /* 28/37.5 */
            width: 2.453rem; /* 92/37.5 */
        }
        header {
            font-size: 38px;
            line-height: .9;
            small {
                display: block;
                font-size: .4em;
            }
        }
        p {
            margin-top: .5rem;
            font-size: 20px;
            line-height: 1.1;
            span {
                margin-left: 0.133rem; /* 5/37.5 */
            }
            span:nth-child(1),span:nth-child(4) {
                margin-left: 0;
            }
        }
    }
    @for $i from 1 through length($card-name) {
        @include card-color(nth($card-name,$i), 0);
    }
}

#card-result {
    white-space: nowrap;
    li {
        width: 100%;
    }
}
.card-list {
    margin-left: -0.225rem;
    li {
        width: 1.73rem;
        height: 2.4rem;
        background-color: #fff;
        border: 1px solid #8D99A7;
        border-radius: 0.32rem;
        & {
            margin-left: 0.225rem;
        }
    }
}

#dialog-layout {
    position: absolute;
    top: 3.84rem; /* 144/37.5 */
    left: 50%;
    margin-left: -3.8rem; /* -285/37.5 */
    width: 7.6rem;
    height: 4.8rem; /* 180/37.5 */
    background-color: #fff;
    border-radius: 0.373rem; /* 14/37.5 */
    &.hide {
        opacity: 0;
        pointer-events: none;
    }
    header {
        font-size: 18px;
        line-height: 1.173rem; /* 44/37.5 */
    }
    input {
        display: inline-block;
        margin: 0.16rem 0 0.8rem; /* 6/37.5, 30/37.5 */
        width: 6.507rem; /* 244/37.5 */
        height: 0.88rem; /* 33/37.5 */
        text-align: center;
        border: 0.027rem solid #919191; /* 1/37.5 */
        border-radius: 1rem;
        outline: none;
    }
    #dialog-submit {
        margin-left: 0.24rem; /* 9/37.5 */
    }
}
